# This workflow creates a PR to update the workflow figures.

name: update_workflow_figures

on:
  schedule:
    # Run every 5 minutes past the hour
    - cron: "5 * * * *"
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Create figures
        run: bash toolbox/make_edps_graphs.sh

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v5
        with:
          commit-message: "Update workflow figures"
          branch: update-operations-wiki-export
          delete-branch: true
          title: "[Assist PR] Update workflow figures"
          body: |
            Update workflow figures.
            Auto-generated.
          labels: |
            automated
          draft: false
